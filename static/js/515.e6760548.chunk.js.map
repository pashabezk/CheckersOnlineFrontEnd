{"version":3,"file":"static/js/515.e6760548.chunk.js","mappings":"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","sources":["Components/HOC/withAuthRedirect.jsx","webpack://checkers-online-frontend/./src/Components/ProfilePage/ProfilePage.module.css?9e02","Components/ProfilePage/GamesBlock/ModalCreateGame.jsx","Components/ProfilePage/GamesBlock/ModalConnectToGame.jsx","Components/ProfilePage/GamesBlock/GamesBlock.jsx","Components/ProfilePage/ProfilePage.jsx","Components/ProfilePage/ProfilePageContainer.jsx","webpack://checkers-online-frontend/./src/Components/TemplatePageWithMenu/TemplatePageWithMenu.module.css?1b26","Components/TemplatePageWithMenu/TemplatePageWithMenu.jsx"],"sourcesContent":["import React from \"react\";\r\nimport {Navigate} from \"react-router-dom\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {selectLogin, selectToken, selectUserId, setLogoutData, tryGetLoginUserDataAsync} from \"../../Redux/AuthReducer\";\r\nimport LoaderFullSpace from \"../Common/LoaderFullSpace/LoaderFullSpace\";\r\nimport {getTokenFromCookie} from \"../../Cookie/AuthWithCookie\";\r\n\r\n// пропускает на нужную страницу только если пользователь авторизован\r\n// иначе редиректит на страницу авторизации\r\nconst withAuthRedirect = (Component) => {\r\n\treturn (props) => {\r\n\t\tconst userId = useSelector(selectUserId);\r\n\t\tconst login = useSelector(selectLogin);\r\n\t\tconst token = useSelector(selectToken);\r\n\t\tconst dispatch = useDispatch();\r\n\r\n\t\t// если токен есть (получен из куки), а идентификатора пользователя нет, значит надо подгрузить информацию о пользователе\r\n\t\tReact.useEffect(() => {\r\n\t\t\tif (token && !login) {\r\n\t\t\t\tdispatch(tryGetLoginUserDataAsync(userId));\r\n\t\t\t}\r\n\t\t});\r\n\t\t// при этом отображается загрузка\r\n\t\tif (token && !userId) {\r\n\t\t\treturn <LoaderFullSpace/>\r\n\t\t}\r\n\r\n\t\t// проверка, что токен не был отозван\r\n\t\tif (getTokenFromCookie() !== token) {\r\n\t\t\tdispatch(setLogoutData()); // если отозван, то на всякий случай диспатчим logout\r\n\t\t\treturn <Navigate to={\"/login\"}/> // редирект на страницу авторизации\r\n\t\t}\r\n\r\n\t\t// если авторизация пройдена, то рендерится нужный компонент, иначе редирект на страницу авторизации\r\n\t\tif (userId)\r\n\t\t\treturn <Component {...props}/>\r\n\t\treturn <Navigate to={\"/login\"}/>\r\n\t}\r\n}\r\n\r\nexport default withAuthRedirect;","// extracted by mini-css-extract-plugin\nexport default {\"userPhotoAndLoginBlock\":\"ProfilePage_userPhotoAndLoginBlock__1JfNh\",\"nameBlock\":\"ProfilePage_nameBlock__pHmDX\",\"copy\":\"ProfilePage_copy__PNjWm\",\"loader\":\"ProfilePage_loader__ZSVJl\",\"gameCardBlock\":\"ProfilePage_gameCardBlock__jzv5s\",\"gamesBlockHeader\":\"ProfilePage_gamesBlockHeader__Z2CI4\",\"gameCard\":\"ProfilePage_gameCard__xuvKm\",\"win\":\"ProfilePage_win__ywIdB\",\"lose\":\"ProfilePage_lose__VoJT8\",\"waiting\":\"ProfilePage_waiting__6+o21\",\"ready\":\"ProfilePage_ready__jbGYu\",\"user\":\"ProfilePage_user__-XiU2\",\"gameId\":\"ProfilePage_gameId__-KLAl\"};","import React from \"react\";\r\nimport {Button, Modal, Tooltip, Typography} from \"antd\";\r\nimport styles from \"../ProfilePage.module.css\";\r\nimport {CopyOutlined} from \"@ant-design/icons\";\r\n\r\nconst {Text} = Typography;\r\n\r\n// Модульное окно с уведомлением о создании новой игры\r\nconst ModalCreateGame = ({messageApi,  createdGameId, onCreateNewGameModalClose, isCreateGameModalOpen}) => {\r\n\r\n\t// функция для создания всплывающего окна\r\n\tconst success = () => {\r\n\t\tmessageApi.open({\r\n\t\t\ttype: \"success\",\r\n\t\t\tcontent: \"Скопировано\",\r\n\t\t\tduration: 2\r\n\t\t});\r\n\t};\r\n\r\n\tconst onClickCopy = () => { // функция копирования по нажатию\r\n\t\tnavigator.clipboard.writeText(String(createdGameId))\r\n\t\t\t.then(() => success()); // отображение всплывающего окна\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Modal\r\n\t\t\ttitle=\"Игра создана\"\r\n\t\t\topen={isCreateGameModalOpen}\r\n\t\t\tclosable={false}\r\n\t\t\tcentered\r\n\t\t\tonCancel={onCreateNewGameModalClose}\r\n\t\t\tfooter={[\r\n\t\t\t\t<Button type=\"primary\" onClick={onCreateNewGameModalClose} key=\"okButton\">OK</Button>\r\n\t\t\t]}\r\n\t\t>\r\n\t\t\t<div>\r\n\t\t\t\t<Text>Для начала игры ваш соперник должен нажать кнопку «Присоединиться» и ввести идентификатор игры:</Text><br/>\r\n\t\t\t\t<Text>id: </Text>\r\n\t\t\t\t<Tooltip title=\"Копировать\">\r\n\t\t\t\t\t<Text code onClick={onClickCopy} className={styles.copy}>{createdGameId}&nbsp;<CopyOutlined/></Text>\r\n\t\t\t\t</Tooltip>\r\n\t\t\t</div>\r\n\t\t</Modal>\r\n\t);\r\n};\r\n\r\nexport default ModalCreateGame;","import React, {useEffect} from \"react\";\r\nimport {Button, Form, InputNumber, Modal, Typography} from \"antd\";\r\nimport {useNavigate} from \"react-router-dom\";\r\n\r\nconst {Text} = Typography;\r\n\r\n// Модульное окно для подключения к уже существующей игре\r\nconst ModalConnectToGame = ({isConnectGameModalOpen, isConnectGameLoading, connectedGameId, connectGameError, setConnectToGameModalOpened, onConnectToGameModalFormSubmit}) => {\r\n\r\n\tconst [formConnectToGame] = Form.useForm(); // для работы с формой в модульном окне подключения к игре\r\n\tconst navigate = useNavigate(); // хук для перехода на другие страницы\r\n\r\n\tuseEffect(() => {\r\n\t\tif (connectedGameId) { // если появился идентификатор подключения к игре, значит удалось подсоединиться к игре, значит нужно перейти к игре\r\n\t\t\tsetConnectToGameModalOpened(false); // закрытие модульного окна\r\n\t\t\tnavigate(\"/game/\" + connectedGameId); // переход на страницу игры\r\n\t\t}\r\n\t}, [connectedGameId]);\r\n\r\n\t// функция обработчик нажатия кнопки \"Отмена\" в модульном окне подключения к игре\r\n\tconst onConnectGameModalCancelButtonClick = () => {\r\n\t\tformConnectToGame.resetFields(); // очистка формы\r\n\t\tsetConnectToGameModalOpened(false); // закрытие модульного окна\r\n\t};\r\n\r\n\t// функция обработчик отправки формы в модульном окне подключения к игре\r\n\t// функция вызывается только если форма прошла валидацию\r\n\tconst onConnectToGameFormSubmitted = () => {\r\n\t\tonConnectToGameModalFormSubmit(formConnectToGame.getFieldValue(\"gameId\"));\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Modal\r\n\t\t\ttitle=\"Присоединиться к игре\"\r\n\t\t\topen={isConnectGameModalOpen}\r\n\t\t\tcentered\r\n\t\t\tonCancel={onConnectGameModalCancelButtonClick}\r\n\t\t\tfooter={[\r\n\t\t\t\t<Button\r\n\t\t\t\t\ttype=\"default\"\r\n\t\t\t\t\tonClick={onConnectGameModalCancelButtonClick}\r\n\t\t\t\t\tkey=\"cancel\">Отмена\r\n\t\t\t\t</Button>,\r\n\t\t\t\t<Button\r\n\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\tonClick={() => formConnectToGame.submit()}\r\n\t\t\t\t\tloading={isConnectGameLoading}\r\n\t\t\t\t\tkey=\"ok\">OK\r\n\t\t\t\t</Button>\r\n\t\t\t]}\r\n\t\t>\r\n\t\t\t<div>\r\n\t\t\t\t<Text>Для подключения к игре введите её идентификатор</Text><br/>\r\n\t\t\t\t<Form\r\n\t\t\t\t\tonFinish={onConnectToGameFormSubmitted}\r\n\t\t\t\t\tform={formConnectToGame}\r\n\t\t\t\t\trequiredMark={false}>\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tlabel=\"id\"\r\n\t\t\t\t\t\tname=\"gameId\"\r\n\t\t\t\t\t\tvalidateStatus={connectGameError ? \"error\" : \"success\"}\r\n\t\t\t\t\t\thelp={connectGameError}\r\n\t\t\t\t\t\trules={[{\r\n\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\tmessage: \"Введите идентификатор игры\",\r\n\t\t\t\t\t\t}]}>\r\n\t\t\t\t\t\t<InputNumber size=\"small\" min={1}/>\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form>\r\n\t\t\t</div>\r\n\t\t</Modal>\r\n\t);\r\n}\r\n\r\nexport default ModalConnectToGame;","import {GAME_STATUS_BLACK_TURN, GAME_STATUS_BLACK_WIN, GAME_STATUS_WAITING_FOR_OPPONENT, GAME_STATUS_WHITE_TURN, GAME_STATUS_WHITE_WIN} from \"../../../Redux/ProfileReducer\";\r\nimport {ClockCircleOutlined, MehOutlined, PlusSquareOutlined, RightSquareOutlined, TrophyOutlined, UsergroupAddOutlined} from \"@ant-design/icons\";\r\nimport styles from \"../ProfilePage.module.css\";\r\nimport {CHECKER_COLOR_BLACK, CHECKER_COLOR_WHITE} from \"../../../Redux/GameReducer\";\r\nimport {Button, Card, message, Tooltip} from \"antd\";\r\nimport Title from \"antd/lib/typography/Title\";\r\nimport React from \"react\";\r\nimport ModalCreateGame from \"./ModalCreateGame\";\r\nimport ModalConnectToGame from \"./ModalConnectToGame\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport LoaderFullSpace from \"../../Common/LoaderFullSpace/LoaderFullSpace\";\r\n\r\n// карточка с игрой\r\n// game = {\r\n// \tid: 1,\r\n// \topponentId: 32,\r\n// \topponentLogin: \"UserLogin\",\r\n// \tplayerColor: \"BLACK\",\r\n// \tstatus: GAME_STATUS_WHITE_TURN\r\n// }\r\nconst GameNode = ({game}) => {\r\n\tlet gameStatus = game.status; // статус игры\r\n\tlet icon; // иконка\r\n\tlet background; // стиль фона для карточки\r\n\tif (gameStatus === GAME_STATUS_WAITING_FOR_OPPONENT) {\r\n\t\tgameStatus = \"Ожидаем соперника\";\r\n\t\ticon = <ClockCircleOutlined/>;\r\n\t\tbackground = styles.waiting;\r\n\t} else {\r\n\t\tif ((gameStatus === GAME_STATUS_WHITE_WIN && game.playerColor === CHECKER_COLOR_WHITE) ||\r\n\t\t\t(gameStatus === GAME_STATUS_BLACK_WIN && game.playerColor === CHECKER_COLOR_BLACK)) {\r\n\t\t\tgameStatus = \"Вы победили\";\r\n\t\t\ticon = <TrophyOutlined/>;\r\n\t\t\tbackground = styles.win;\r\n\t\t} else {\r\n\t\t\tif (gameStatus === GAME_STATUS_WHITE_WIN || gameStatus === GAME_STATUS_BLACK_WIN) {\r\n\t\t\t\tgameStatus = \"Вы проиграли\";\r\n\t\t\t\ticon = <MehOutlined/>;\r\n\t\t\t\tbackground = styles.lose;\r\n\t\t\t} else {\r\n\t\t\t\tif ((gameStatus === GAME_STATUS_WHITE_TURN && game.playerColor === CHECKER_COLOR_WHITE) ||\r\n\t\t\t\t\t(gameStatus === GAME_STATUS_BLACK_TURN && game.playerColor === CHECKER_COLOR_BLACK)) {\r\n\t\t\t\t\tgameStatus = \"Ваш ход\";\r\n\t\t\t\t\ticon = <RightSquareOutlined/>;\r\n\t\t\t\t\tbackground = styles.ready;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tgameStatus = \"Ход соперника\";\r\n\t\t\t\t\ticon = <ClockCircleOutlined/>;\r\n\t\t\t\t\tbackground = styles.waiting;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<NavLink to={\"/game/\" + game.id}>\r\n\t\t\t<Card className={styles.gameCard + \" \" + background}>\r\n\t\t\t\t{icon}&nbsp;&nbsp;\r\n\t\t\t\t{\r\n\t\t\t\t\tgame.opponentId &&\r\n\t\t\t\t\t<Tooltip title={\"id: \" + game.opponentId}>\r\n\t\t\t\t\t\t<span className={styles.user}>{game.opponentLogin}</span>&nbsp;\r\n\t\t\t\t\t</Tooltip>\r\n\t\t\t\t}\r\n\t\t\t\t<span>{gameStatus}</span>&nbsp;\r\n\t\t\t\t<span className={styles.gameId}>(id: {game.id})</span>\r\n\t\t\t</Card>\r\n\t\t</NavLink>\r\n\t);\r\n};\r\n\r\nconst GamesBlock = ({games, isGamesListLoading, isCreateGameLoading, onCreateNewGameButtonClick, setConnectToGameModalOpened, createGameModalProps, connectToGameModalProps}) => {\r\n\r\n\tconst [messageApi, contextHolder] = message.useMessage(); // для отображения всплывающего сообщения\r\n\r\n\tlet gamesArr = [];\r\n\tif (!isGamesListLoading && games && games !== []) {\r\n\t\tgamesArr = games.map(game => <GameNode key={game.id} game={game}/>);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{contextHolder}\r\n\t\t\t<div className={styles.gamesBlockHeader}>\r\n\t\t\t\t<Title level={2}>Список партий</Title>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tloading={isCreateGameLoading}\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\ticon={<PlusSquareOutlined/>}\r\n\t\t\t\t\t\tonClick={onCreateNewGameButtonClick}>Создать\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\ticon={<UsergroupAddOutlined/>}\r\n\t\t\t\t\t\tonClick={() => setConnectToGameModalOpened(true)}>Присоединиться\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t{\r\n\t\t\t\tisGamesListLoading\r\n\t\t\t\t\t? <div className={styles.loader}><LoaderFullSpace message=\"Подгружаем данные\" size=\"medium\"/></div>\r\n\t\t\t\t\t: <div className={styles.gameCardBlock}>{gamesArr}</div>\r\n\t\t\t}\r\n\t\t\t<ModalCreateGame messageApi={messageApi} {...createGameModalProps}/>\r\n\t\t\t<ModalConnectToGame {...connectToGameModalProps}/>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default GamesBlock;","import React from \"react\";\r\nimport TemplatePageWithMenu from \"../TemplatePageWithMenu/TemplatePageWithMenu\";\r\nimport {Avatar} from \"antd\";\r\nimport {UserOutlined} from \"@ant-design/icons\";\r\nimport styles from \"./ProfilePage.module.css\"\r\nimport Title from \"antd/lib/typography/Title\";\r\nimport GamesBlock from \"./GamesBlock/GamesBlock\";\r\n\r\nconst UserPhotoAndLoginBlock = ({login}) => {\r\n\treturn (\r\n\t\t<div className={styles.userPhotoAndLoginBlock}>\r\n\t\t\t<Avatar\r\n\t\t\t\tsize={100}\r\n\t\t\t\ticon={<UserOutlined/>}\r\n\t\t\t/>\r\n\t\t\t<div className={styles.nameBlock}>\r\n\t\t\t\t<Title level={2}>{login}</Title>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nconst ProfilePage = ({login, gamesBlockProps}) => {\r\n\treturn (\r\n\t\t<TemplatePageWithMenu>\r\n\t\t\t<UserPhotoAndLoginBlock login={login}/>\r\n\t\t\t<GamesBlock {...gamesBlockProps}/>\r\n\t\t</TemplatePageWithMenu>\r\n\t);\r\n}\r\n\r\nexport default ProfilePage;","import React, {useEffect} from \"react\";\r\nimport withAuthRedirect from \"../HOC/withAuthRedirect\";\r\nimport ProfilePage from \"./ProfilePage\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {\r\n\tselectConnectedGameId,\r\n\tselectConnectGameError,\r\n\tselectCreatedGameId,\r\n\tselectGames,\r\n\tselectIsConnectGameLoading,\r\n\tselectIsConnectGameModalOpen,\r\n\tselectIsCreateGameLoading,\r\n\tselectIsCreateGameModalOpen,\r\n\tselectIsGamesListLoading,\r\n\tsetIsConnectGameModalOpen,\r\n\tsetIsCreateGameModalOpen,\r\n\ttryConnectToGameAsync,\r\n\ttryCreateNewGameAsync,\r\n\ttryGetGamesListAsync\r\n} from \"../../Redux/ProfileReducer\";\r\nimport {selectLogin} from \"../../Redux/AuthReducer\";\r\n\r\nconst ProfilePageContainer = () => {\r\n\r\n\tconst login = useSelector(selectLogin);\r\n\tconst games = useSelector(selectGames);\r\n\tconst isGamesListLoading = useSelector(selectIsGamesListLoading);\r\n\tconst isCreateGameLoading = useSelector(selectIsCreateGameLoading);\r\n\tconst createdGameId = useSelector(selectCreatedGameId);\r\n\tconst isCreateGameModalOpen = useSelector(selectIsCreateGameModalOpen);\r\n\tconst isConnectGameModalOpen = useSelector(selectIsConnectGameModalOpen);\r\n\tconst isConnectGameLoading = useSelector(selectIsConnectGameLoading);\r\n\tconst connectedGameId = useSelector(selectConnectedGameId);\r\n\tconst connectGameError = useSelector(selectConnectGameError);\r\n\tconst dispatch = useDispatch();\r\n\r\n\tuseEffect(() => {\r\n\t\tif (games === null) {\r\n\t\t\tdispatch(tryGetGamesListAsync());\r\n\t\t}\r\n\t});\r\n\r\n\t// нажатие по кнопке \"Создать\" для создания новой игры\r\n\tconst onCreateNewGameButtonClick = () => {\r\n\t\tdispatch(tryCreateNewGameAsync());\r\n\t};\r\n\r\n\t// нажатие на ок для закрытия модульного окна с сообщением о созданной игре\r\n\tconst onCreateNewGameModalClose = () => {\r\n\t\tdispatch(setIsCreateGameModalOpen(false));\r\n\t\tdispatch(tryGetGamesListAsync());\r\n\t};\r\n\r\n\t// установка значения открытия модульного окна \"Присоединиться к игре\"\r\n\tconst setConnectToGameModalOpened = (open) => {\r\n\t\tdispatch(setIsConnectGameModalOpen(open));\r\n\t};\r\n\r\n\t// нажатие Ок в модульном окне подключения к игре\r\n\tconst onConnectToGameModalFormSubmit = (gameId) => {\r\n\t\tdispatch(tryConnectToGameAsync(gameId));\r\n\t}\r\n\r\n\t// упаковка props для более удобной передачи между компонентами\r\n\tconst gamesBlockProps = {\r\n\t\tgames,\r\n\t\tisGamesListLoading,\r\n\t\tisCreateGameLoading,\r\n\t\tonCreateNewGameButtonClick,\r\n\t\tsetConnectToGameModalOpened,\r\n\t\tcreateGameModalProps: {\r\n\t\t\tcreatedGameId,\r\n\t\t\tonCreateNewGameModalClose,\r\n\t\t\tisCreateGameModalOpen\r\n\t\t},\r\n\t\tconnectToGameModalProps: {\r\n\t\t\tisConnectGameModalOpen,\r\n\t\t\tisConnectGameLoading,\r\n\t\t\tconnectedGameId,\r\n\t\t\tconnectGameError,\r\n\t\t\tsetConnectToGameModalOpened,\r\n\t\t\tonConnectToGameModalFormSubmit\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<ProfilePage login={login} gamesBlockProps={gamesBlockProps}/>\r\n\t);\r\n}\r\n\r\nexport default withAuthRedirect(ProfilePageContainer);","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"TemplatePageWithMenu_wrapper__ixbQB\",\"sidebar\":\"TemplatePageWithMenu_sidebar__yXlI7\",\"content\":\"TemplatePageWithMenu_content__Mc3IK\"};","import React from \"react\";\r\nimport {AppstoreOutlined, PlaySquareOutlined, UserOutlined} from \"@ant-design/icons\";\r\nimport {Menu} from \"antd\";\r\nimport styles from \"./TemplatePageWithMenu.module.css\"\r\nimport {useLocation, useNavigate} from \"react-router-dom\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {selectOpenedMenuBlocks, setOpenedMenuBlocks} from \"../../Redux/MenuReducer\";\r\n\r\n// элементы меню\r\n// в качестве key используется path для перехода\r\nconst menuItems = [\r\n\t{label: 'Профиль', icon: <UserOutlined/>, key: '/profile'},\r\n\t{\r\n\t\tlabel: 'Последние игры',\r\n\t\ticon: <AppstoreOutlined/>,\r\n\t\tkey: 'games',\r\n\t\tchildren: [\r\n\t\t\t{label: 'Игра', icon: <PlaySquareOutlined/>, key: '/game'},\r\n\t\t\t{label: 'Игра', icon: <PlaySquareOutlined/>, key: '/game/1'},\r\n\t\t\t{label: 'Игра', icon: <PlaySquareOutlined/>, key: '/game/2'},\r\n\t\t],\r\n\t},\r\n];\r\n\r\nconst TemplatePageWithMenu = ({children}) => {\r\n\tconst navigate = useNavigate(); // хук для перехода на другие страницы\r\n\tconst location = useLocation().pathname; // получение url странички; pathname возвращает часть пути, используемую приложением\r\n\r\n\tconst openedMenuBlocks = useSelector(selectOpenedMenuBlocks); // получение списка раскрытых блоков меню\r\n\tconst dispatch = useDispatch();\r\n\r\n\t// обработчик нажатий на элемент меню\r\n\tconst onMenuSelect = (props) => {\r\n\t\tnavigate(props.key); // переход на страничку\r\n\t}\r\n\r\n\t// обработчик раскрытия и закрытия элементов меню\r\n\tconst onMenuBlockClick = (props) => {\r\n\t\tdispatch(setOpenedMenuBlocks(props));\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className={styles.wrapper}>\r\n\t\t\t<div className={styles.sidebar}>\r\n\t\t\t\t<Menu\r\n\t\t\t\t\tmode=\"inline\"\r\n\t\t\t\t\tdefaultSelectedKeys={[location]}\r\n\t\t\t\t\tdefaultOpenKeys={openedMenuBlocks}\r\n\t\t\t\t\titems={menuItems}\r\n\t\t\t\t\tonSelect={onMenuSelect}\r\n\t\t\t\t\tonOpenChange={onMenuBlockClick}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<section className={styles.content}>\r\n\t\t\t\t{children}\r\n\t\t\t</section>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default TemplatePageWithMenu;"],"names":["Component","props","userId","useSelector","selectUserId","login","selectLogin","token","selectToken","dispatch","useDispatch","React","tryGetLoginUserDataAsync","getTokenFromCookie","setLogoutData","to","Text","Typography","messageApi","createdGameId","onCreateNewGameModalClose","isCreateGameModalOpen","title","open","closable","centered","onCancel","footer","type","onClick","code","navigator","clipboard","writeText","String","then","content","duration","className","styles","CopyOutlined","isConnectGameModalOpen","isConnectGameLoading","connectedGameId","connectGameError","setConnectToGameModalOpened","onConnectToGameModalFormSubmit","Form","formConnectToGame","navigate","useNavigate","useEffect","onConnectGameModalCancelButtonClick","resetFields","submit","loading","onFinish","getFieldValue","form","requiredMark","label","name","validateStatus","help","rules","required","message","size","min","GameNode","icon","background","game","gameStatus","status","GAME_STATUS_WAITING_FOR_OPPONENT","ClockCircleOutlined","GAME_STATUS_WHITE_WIN","playerColor","CHECKER_COLOR_WHITE","GAME_STATUS_BLACK_WIN","CHECKER_COLOR_BLACK","TrophyOutlined","MehOutlined","GAME_STATUS_WHITE_TURN","GAME_STATUS_BLACK_TURN","RightSquareOutlined","id","opponentId","opponentLogin","games","isGamesListLoading","isCreateGameLoading","onCreateNewGameButtonClick","createGameModalProps","connectToGameModalProps","contextHolder","gamesArr","map","Title","level","PlusSquareOutlined","UsergroupAddOutlined","LoaderFullSpace","UserPhotoAndLoginBlock","UserOutlined","gamesBlockProps","TemplatePageWithMenu","withAuthRedirect","selectGames","selectIsGamesListLoading","selectIsCreateGameLoading","selectCreatedGameId","selectIsCreateGameModalOpen","selectIsConnectGameModalOpen","selectIsConnectGameLoading","selectConnectedGameId","selectConnectGameError","tryGetGamesListAsync","setIsConnectGameModalOpen","tryCreateNewGameAsync","setIsCreateGameModalOpen","gameId","tryConnectToGameAsync","menuItems","key","AppstoreOutlined","children","PlaySquareOutlined","location","useLocation","pathname","openedMenuBlocks","selectOpenedMenuBlocks","mode","defaultSelectedKeys","defaultOpenKeys","items","onSelect","onOpenChange","setOpenedMenuBlocks"],"sourceRoot":""}