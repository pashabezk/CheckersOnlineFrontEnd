"use strict";(self.webpackChunkcheckers_online_frontend=self.webpackChunkcheckers_online_frontend||[]).push([[515],{2940:function(e,n,s){var a=s(1413),i=s(2791),o=s(7689),r=s(9434),t=s(408),c=s(7633),l=s(5171),d=s(184);n.Z=function(e){return function(n){var s=(0,r.v9)(t.c7),u=(0,r.v9)(t.KN),m=(0,r.v9)(t.rK),f=(0,r.I0)();return i.useEffect((function(){m&&!u&&f((0,t.$b)(s))})),m&&!u?(0,d.jsx)(c.Z,{}):(0,l.GL)()!==m?(f((0,t.GT)()),(0,d.jsx)(o.Fg,{to:"/login"})):s?(0,d.jsx)(e,(0,a.Z)({},n)):(0,d.jsx)(o.Fg,{to:"/login"})}}},1515:function(e,n,s){s.r(n),s.d(n,{default:function(){return ne}});var a=s(2791),i=s(2940),o=s(1413),r=s(2777),t=s(3211),c=s(9529),l="ProfilePage_userPhotoAndLoginBlock__1JfNh",d="ProfilePage_nameBlock__pHmDX",u="ProfilePage_copy__PNjWm",m="ProfilePage_loader__ZSVJl",f="ProfilePage_gameCardBlock__jzv5s",x="ProfilePage_gamesBlockHeader__Z2CI4",j="ProfilePage_gameCard__xuvKm",g="ProfilePage_win__ywIdB",p="ProfilePage_lose__VoJT8",h="ProfilePage_waiting__6+o21",v="ProfilePage_ready__jbGYu",_="ProfilePage_user__-XiU2",Z="ProfilePage_gameId__-KLAl",P=s(5507),C=s(9439),k=s(8263),G=s(50),b=s(532),N=s(8409),y=s(5278),M=s(3281),T=s(8301),I=s(106),w=s(2892),L=s(7027),B=s(7309),O=s(3020),E=s(3317),F=s(3414),K=s(184),A=O.Z.Text,S=function(e){var n=e.messageApi,s=e.createdGameId,a=e.onCreateNewGameModalClose,i=e.isCreateGameModalOpen;return(0,K.jsx)(E.Z,{title:"\u0418\u0433\u0440\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0430",open:i,closable:!1,centered:!0,onCancel:a,footer:[(0,K.jsx)(B.Z,{type:"primary",onClick:a,children:"OK"},"okButton")],children:(0,K.jsxs)("div",{children:[(0,K.jsx)(A,{children:"\u0414\u043b\u044f \u043d\u0430\u0447\u0430\u043b\u0430 \u0438\u0433\u0440\u044b \u0432\u0430\u0448 \u0441\u043e\u043f\u0435\u0440\u043d\u0438\u043a \u0434\u043e\u043b\u0436\u0435\u043d \u043d\u0430\u0436\u0430\u0442\u044c \u043a\u043d\u043e\u043f\u043a\u0443 \xab\u041f\u0440\u0438\u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u044c\u0441\u044f\xbb \u0438 \u0432\u0432\u0435\u0441\u0442\u0438 \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u0438\u0433\u0440\u044b:"}),(0,K.jsx)("br",{}),(0,K.jsx)(A,{children:"id: "}),(0,K.jsx)(w.Z,{title:"\u041a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c",children:(0,K.jsxs)(A,{code:!0,onClick:function(){navigator.clipboard.writeText(String(s)).then((function(){n.open({type:"success",content:"\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u043e",duration:2})}))},className:u,children:[s,"\xa0",(0,K.jsx)(F.Z,{})]})})]})})},z=s(7038),W=s(3288),q=O.Z.Text,X=function(e){var n=e.messageApi,s=e.isConnectGameModalOpen,i=e.isConnectGameLoading,o=e.connectedGameId,r=e.connectGameError,t=e.setConnectToGameModalOpened,c=e.onConnectToGameModalFormSubmit,l=z.Z.useForm(),d=(0,C.Z)(l,1)[0];(0,a.useEffect)((function(){o&&(t(!1),n.open({type:"success",content:"\u0418\u0433\u0440\u0430 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0432 \u0432\u0430\u0448 \u0441\u043f\u0438\u0441\u043e\u043a",duration:5}))}),[o]);var u=function(){d.resetFields(),t(!1)};return(0,K.jsx)(E.Z,{title:"\u041f\u0440\u0438\u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u044c\u0441\u044f \u043a \u0438\u0433\u0440\u0435",open:s,centered:!0,onCancel:u,footer:[(0,K.jsx)(B.Z,{type:"default",onClick:u,children:"\u041e\u0442\u043c\u0435\u043d\u0430"},"cancel"),(0,K.jsx)(B.Z,{type:"primary",onClick:function(){return d.submit()},loading:i,children:"OK"},"ok")],children:(0,K.jsxs)("div",{children:[(0,K.jsx)(q,{children:"\u0414\u043b\u044f \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u043a \u0438\u0433\u0440\u0435 \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0435\u0451 \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440"}),(0,K.jsx)("br",{}),(0,K.jsx)(z.Z,{onFinish:function(){c(d.getFieldValue("gameId"))},form:d,requiredMark:!1,children:(0,K.jsx)(z.Z.Item,{label:"id",name:"gameId",validateStatus:r?"error":"success",help:r,rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u0438\u0433\u0440\u044b"}],children:(0,K.jsx)(W.Z,{size:"small",min:1})})})]})})},H=s(7689),J=s(7633),V=function(e){var n,s,a=e.game,i=(0,H.s0)(),o=a.status;switch(o){case k.u5:o="\u041e\u0436\u0438\u0434\u0430\u0435\u043c \u0441\u043e\u043f\u0435\u0440\u043d\u0438\u043a\u0430",n=(0,K.jsx)(G.Z,{}),s=h;break;case k.TU:o="\u0412\u0430\u0448 \u0445\u043e\u0434",n=(0,K.jsx)(b.Z,{}),s=v;break;case k.e0:o="\u0425\u043e\u0434 \u0441\u043e\u043f\u0435\u0440\u043d\u0438\u043a\u0430",n=(0,K.jsx)(G.Z,{}),s=h;break;case k.B4:o="\u0412\u044b \u043f\u043e\u0431\u0435\u0434\u0438\u043b\u0438",n=(0,K.jsx)(N.Z,{}),s=g;break;case k.lr:o="\u0412\u044b \u043f\u0440\u043e\u0438\u0433\u0440\u0430\u043b\u0438",n=(0,K.jsx)(y.Z,{}),s=p;break;default:o="\u041a\u0430\u043a\u0430\u044f-\u0442\u043e \u043e\u0448\u0438\u0431\u043a\u0430",n=(0,K.jsx)(y.Z,{}),s=p}return(0,K.jsxs)(I.Z,{className:j+" "+s,onClick:function(){a.status!==k.u5&&i("/game/"+a.id)},children:[n,"\xa0\xa0",a.opponentId&&(0,K.jsxs)(w.Z,{title:"id: "+a.opponentId,children:[(0,K.jsx)("span",{className:_,children:a.opponentLogin}),"\xa0"]}),(0,K.jsx)("span",{children:o}),"\xa0",(0,K.jsxs)("span",{className:Z,children:["(id: ",a.id,")"]})]})},U=function(e){var n=e.games,s=e.isGamesListLoading,a=e.isCreateGameLoading,i=e.onCreateNewGameButtonClick,r=e.setConnectToGameModalOpened,t=e.createGameModalProps,c=e.connectToGameModalProps,l=L.ZP.useMessage(),d=(0,C.Z)(l,2),u=d[0],j=d[1],g=[];return!s&&n&&(g=n.map((function(e){return(0,K.jsx)(V,{game:e},e.id)}))),Array.isArray(n)&&0===n.length&&(g=(0,K.jsxs)("p",{className:Z,children:["\u0412\u044b \u0435\u0449\u0451 \u043d\u0435 \u0441\u044b\u0433\u0440\u0430\u043b\u0438 \u043d\u0438 \u043e\u0434\u043d\u043e\u0439 \u043f\u0430\u0440\u0442\u0438\u0438.",(0,K.jsx)("br",{}),"\u0421 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u043a\u043d\u043e\u043f\u043e\u043a \u0432\u044b\u0448\u0435 \u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0441\u0432\u043e\u044e \u043f\u0435\u0440\u0432\u0443\u044e \u043f\u0430\u0440\u0442\u0438\u044e \u0438\u043b\u0438 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u044c\u0441\u044f \u043a \u043f\u0430\u0440\u0442\u0438\u0438, \u0441\u043e\u0437\u0434\u0430\u043d\u043d\u043e\u0439 \u0432\u0430\u0448\u0438\u043c \u0434\u0440\u0443\u0433\u043e\u043c"]})),(0,K.jsxs)("div",{children:[j,(0,K.jsxs)("div",{className:x,children:[(0,K.jsx)(P.Z,{level:2,children:"\u0421\u043f\u0438\u0441\u043e\u043a \u043f\u0430\u0440\u0442\u0438\u0439"}),(0,K.jsxs)("div",{children:[(0,K.jsx)(B.Z,{loading:a,type:"text",icon:(0,K.jsx)(M.Z,{}),onClick:i,children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"}),(0,K.jsx)(B.Z,{type:"text",icon:(0,K.jsx)(T.Z,{}),onClick:function(){return r(!0)},children:"\u041f\u0440\u0438\u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u044c\u0441\u044f"})]})]}),s?(0,K.jsx)("div",{className:m,children:(0,K.jsx)(J.Z,{message:"\u041f\u043e\u0434\u0433\u0440\u0443\u0436\u0430\u0435\u043c \u0434\u0430\u043d\u043d\u044b\u0435",size:"medium"})}):(0,K.jsx)("div",{className:f,children:g}),(0,K.jsx)(S,(0,o.Z)({messageApi:u},t)),(0,K.jsx)(X,(0,o.Z)({messageApi:u},c))]})},Y=function(e){var n=e.login;return(0,K.jsxs)("div",{className:l,children:[(0,K.jsx)(t.C,{size:100,icon:(0,K.jsx)(c.Z,{})}),(0,K.jsx)("div",{className:d,children:(0,K.jsx)(P.Z,{level:2,children:n})})]})},D=function(e){var n=e.login,s=e.gamesBlockProps;return(0,K.jsxs)(r.Z,{children:[(0,K.jsx)(Y,{login:n}),(0,K.jsx)(U,(0,o.Z)({},s))]})},Q=s(9434),$=s(3708),R=s(408),ee=s(4862),ne=(0,i.Z)((function(){var e=(0,Q.v9)(R.KN),n=(0,Q.v9)(R.c7),s=(0,Q.v9)($.NN),i=(0,Q.v9)($.cE),o=(0,Q.v9)($.WT),r=(0,Q.v9)($.Pf),t=(0,Q.v9)($.XT),c=(0,Q.v9)($.fg),l=(0,Q.v9)($.kr),d=(0,Q.v9)($.h4),u=(0,Q.v9)($.FF),m=(0,Q.I0)();(0,a.useEffect)((function(){i||m((0,$.ns)())}),[]),(0,a.useEffect)((function(){null!==s||i||m((0,$.ns)())})),s&&(s=s.map((function(e){return(0,ee.q)(e,n)})));var f=function(e){m((0,$.bk)(e)),e||m((0,$.ns)())},x={games:s,isGamesListLoading:i,isCreateGameLoading:o,onCreateNewGameButtonClick:function(){m((0,$.ae)())},setConnectToGameModalOpened:f,createGameModalProps:{createdGameId:r,onCreateNewGameModalClose:function(){m((0,$.av)(!1)),m((0,$.ns)())},isCreateGameModalOpen:t},connectToGameModalProps:{isConnectGameModalOpen:c,isConnectGameLoading:l,connectedGameId:d,connectGameError:u,setConnectToGameModalOpened:f,onConnectToGameModalFormSubmit:function(e){m((0,$.Ls)({gameId:e,userId:n}))}}};return(0,K.jsx)(D,{login:e,gamesBlockProps:x})}))},2777:function(e,n,s){s.d(n,{Z:function(){return _}});var a=s(2791),i=s(50),o=s(8586),r=s(9529),t=s(8961),c=s(9356),l="TemplatePageWithMenu_wrapper__ixbQB",d="TemplatePageWithMenu_sidebar__yXlI7",u="TemplatePageWithMenu_content__Mc3IK",m=s(7689),f=s(9434),x=s(1347),j=s(3708),g=s(4862),p=s(408),h=s(8263),v=s(184),_=function(e){var n=e.children,s=(0,m.s0)(),_=(0,m.TH)().pathname,Z=(0,f.v9)(p.c7),P=(0,f.v9)(j.NN),C=(0,f.v9)(j.cE),k=(0,f.v9)(x.Ew),G=(0,f.I0)();if((0,a.useEffect)((function(){null!==P||C||G((0,j.ns)())})),P){var b=0;P=(P=(P=P.filter((function(e){return e.status===h.wY&&b++<=5&&e}))).map((function(e){return(0,g.q)(e,Z)}))).map((function(e){return{label:e.opponentLogin,icon:e.status===h.e0?(0,v.jsx)(i.Z,{}):(0,v.jsx)(o.Z,{}),key:"/game/"+e.id}}))}var N=[{label:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c",icon:(0,v.jsx)(r.Z,{}),key:"/profile"},{label:"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0435 \u0438\u0433\u0440\u044b",icon:(0,v.jsx)(t.Z,{}),key:"games",children:null!==P&&P.length>0?P:[{label:"\u041d\u0435\u0442 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0438\u0433\u0440",key:"/noGames",type:"group"}]}];return(0,v.jsxs)("div",{className:l,children:[(0,v.jsx)("div",{className:d,children:(0,v.jsx)(c.Z,{mode:"inline",defaultSelectedKeys:[_],defaultOpenKeys:k,items:N,onSelect:function(e){s(e.key)},onOpenChange:function(e){G((0,x.xz)(e))}})}),(0,v.jsx)("section",{className:u,children:n})]})}}}]);
//# sourceMappingURL=515.891d679f.chunk.js.map