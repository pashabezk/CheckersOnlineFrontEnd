"use strict";(self.webpackChunkcheckers_online_frontend=self.webpackChunkcheckers_online_frontend||[]).push([[376,651],{7376:function(e,r,n){n.r(r),n.d(r,{default:function(){return re},findChecker:function(){return ee},letters:function(){return $}});var a=n(1413),s=n(2791),c=n(9434),i=n(6202),t=n(7689),l=n(6651),o=n(2940),d="CheckersField_checkersField__5I996",u="CheckersField_letters__hW59M",h="CheckersField_lettersTop__22LOg",m="CheckersField_lettersBottom__van6G",v="CheckersField_numbers__ZoKYg",f="CheckersField_numbersLeft__hW187",g="CheckersField_numbersRight__5RHpU",p="CheckersField_cellsField__t6if+",x="CheckersField_checkersFieldRow__a97xq",j="CheckersField_blackCell__YDxPZ",k="CheckersField_whiteCell__jRUyy",_="CheckersField_availableCell__wIu4D",C="CheckersField_checker__0jVkb",F="CheckersField_checkerPlayer__kZHN6",Z="CheckersField_checkerSelected__+6GkT";var b=n.p+"static/media/BlackQueen.04b418a082c57e040b7f1b2928e42c8e.svg";var y=n.p+"static/media/WhiteQueen.1a036d2a0d3d912d39226611496470dc.svg";var N=n.p+"static/media/Black.89cd2513aff4bafc1851b83f8b43dc26.svg",S=n(6009),w=n(8263),I=n(7633),P=n(5507),L=n(184),G=function(e){var r=e.type,n=e.color,a=e.selected,s=e.onSelectChecker,c=e.position,i=e.playerColor,t=e.gameStatus;return(0,L.jsx)("img",{className:C+(a?" "+Z:(0,w.WI)(i)===n?" "+F:""),src:n===w.mi?r===w.D6?N:b:r===w.D6?S.Z:y,alt:"checker",onClick:(0,w.WI)(i)===n&&t===w.TU?function(){s(c)}:void 0})},z=function(e){var r=e.isBlack,n=e.checker,a=e.selected,s=e.onSelectChecker,c=e.position,i=e.playerColor,t=e.isAvailable,l=e.gameStatus,o=e.createCheckerStep;return(0,L.jsx)("div",{className:(r?j:k)+(t?" "+_:""),onClick:t?function(){o(c)}:void 0,children:n?(0,L.jsx)(G,{type:n.type,color:n.color,selected:a,onSelectChecker:s,position:c,playerColor:i,gameStatus:l}):(0,L.jsx)("div",{})})},B=function(e){var r=e.rowNumber,n=e.gameField,a=e.selectedCheckerPosition,s=e.onSelectChecker,c=e.playerColor,i=e.availableFields,t=e.gameStatus,l=e.createCheckerStep,o=r%2!==1,d=$.map((function(e){o=!o;var d=e+r,u=!1,h=n.find((function(e){return e.position===d&&(d===a&&(u=!0),e)})),m=i.find((function(e){return e===d}));return(0,L.jsx)(z,{isBlack:o,checker:h,selected:u,onSelectChecker:s,position:d,playerColor:c,isAvailable:m,gameStatus:t,createCheckerStep:l},d)}));return(0,L.jsx)("div",{className:x,children:d})},M=function(e){var r=e.gameStatus,n=e.gameField,a=e.isGameFieldLoading,s=e.gameFieldError,c=e.playerColor,i=e.selectedCheckerPosition,t=e.onSelectChecker,l=e.availableFields,o=e.createCheckerStep;if(a)return(0,L.jsx)(I.Z,{message:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0448\u0430\u0448\u0435\u043a"});if(s)return(0,L.jsxs)("div",{children:[(0,L.jsx)(P.Z,{children:"\u0412\u043e\u0437\u043d\u0438\u043a\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430"}),(0,L.jsx)("p",{children:s})]});var x=[8,7,6,5,4,3,2,1];c===w.tD&&(x=x.reverse());var j=[];Array.isArray(n)&&(j=x.map((function(e){return(0,L.jsx)(B,{rowNumber:e,gameField:n,selectedCheckerPosition:i,onSelectChecker:t,playerColor:c,availableFields:l,gameStatus:r,createCheckerStep:o},e)})));var k=x.map((function(e){return(0,L.jsx)("div",{children:e},e+" "+e)})),_=$.map((function(e){return(0,L.jsx)("div",{children:e},e+e)}));return(0,L.jsxs)("div",{className:d,children:[(0,L.jsx)("div",{className:h+" "+u,children:_}),(0,L.jsx)("div",{className:f+" "+v,children:k}),(0,L.jsx)("div",{className:p,children:j}),(0,L.jsx)("div",{className:g+" "+v,children:k}),(0,L.jsx)("div",{className:m+" "+u,children:_})]})},T=n(2777),D=n(7309),E="GamePage_user__C4Fzx",W="GamePage_checkerImg__h5uZj",A="GamePage_gameBlock__FJkLb",H="GamePage_checkersField__StnyP",V="GamePage_gameBlockFooterWrapper__fgZte",K="GamePage_gameBlockFooter__0-Trc",R=function(e){var r=e.gameId,n=e.login,s=e.gameData,c=e.isGameDataLoading,i=e.gameDataError,t=e.onCapitulation,l=e.isCapitulating,o=e.checkersFieldProps,d=(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(P.Z,{level:2,children:(0,L.jsxs)("span",{children:["\u041f\u0430\u0440\u0442\u0438\u044f \u0441 ",s.opponentLogin]})}),(0,L.jsxs)("div",{children:[(0,L.jsxs)("p",{className:E,children:[(0,L.jsx)("img",{src:s.playerColor===w.Rq?S.Z:N,alt:"checker",className:W}),(0,L.jsx)("span",{children:n}),s.status===w.TU&&(0,L.jsx)("span",{children:" (\u0412\u0430\u0448 \u0445\u043e\u0434)"})]}),(0,L.jsxs)("p",{className:E,children:[(0,L.jsx)("img",{src:s.playerColor===w.Rq?N:S.Z,alt:"checker",className:W}),(0,L.jsx)("span",{children:s.opponentLogin}),s.status===w.e0&&(0,L.jsx)("span",{children:" (\u0435\u0433\u043e \u0445\u043e\u0434)"})]})]}),(0,L.jsxs)("div",{className:A,children:[(0,L.jsx)("div",{className:H,children:(0,L.jsx)(M,(0,a.Z)({},o))}),(0,L.jsx)("div",{className:V,children:(0,L.jsxs)("div",{className:K,children:[(0,L.jsxs)("p",{children:["gameId: ",r]}),(0,L.jsx)(D.Z,{danger:!0,loading:l,onClick:function(){return t()},children:"\u0421\u0434\u0430\u0442\u044c\u0441\u044f"})]})})]})]}),u=(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(P.Z,{children:"\u0412\u043e\u0437\u043d\u0438\u043a\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430"}),(0,L.jsx)("p",{children:i})]});return(0,L.jsx)(T.Z,{children:c?(0,L.jsx)(I.Z,{}):i?u:d})},O={icon:function(e,r){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M320 480c0 49.1 19.1 95.3 53.9 130.1 34.7 34.8 81 53.9 130.1 53.9h16c49.1 0 95.3-19.1 130.1-53.9 34.8-34.7 53.9-81 53.9-130.1V184H320v296zM184 352c0 41 26.9 75.8 64 87.6-37.1-11.9-64-46.7-64-87.6zm364 382.5C665 721.8 758.4 630.2 773.8 514 758.3 630.2 665 721.7 548 734.5zM250.2 514C265.6 630.2 359 721.8 476 734.5 359 721.7 265.7 630.2 250.2 514z",fill:r}},{tag:"path",attrs:{d:"M868 160h-92v-40c0-4.4-3.6-8-8-8H256c-4.4 0-8 3.6-8 8v40h-92a44 44 0 00-44 44v148c0 81.7 60 149.6 138.2 162C265.7 630.2 359 721.7 476 734.5v105.2H280c-17.7 0-32 14.3-32 32V904c0 4.4 3.6 8 8 8h512c4.4 0 8-3.6 8-8v-32.3c0-17.7-14.3-32-32-32H548V734.5C665 721.7 758.3 630.2 773.8 514 852 501.6 912 433.7 912 352V204a44 44 0 00-44-44zM248 439.6a91.99 91.99 0 01-64-87.6V232h64v207.6zM704 480c0 49.1-19.1 95.4-53.9 130.1-34.8 34.8-81 53.9-130.1 53.9h-16c-49.1 0-95.4-19.1-130.1-53.9-34.8-34.8-53.9-81-53.9-130.1V184h384v296zm136-128c0 41-26.9 75.8-64 87.6V232h64v120z",fill:e}}]}},name:"trophy",theme:"twotone"},U=n(4291),q=function(e,r){return s.createElement(U.Z,(0,a.Z)((0,a.Z)({},e),{},{ref:r,icon:O}))};q.displayName="TrophyTwoTone";var Y=s.forwardRef(q),Q=function(e){var r=e.winnerLogin,n=e.loserLogin;return(0,L.jsxs)(T.Z,{children:[(0,L.jsx)(P.Z,{children:"\u0418\u0433\u0440\u0430 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0430"}),(0,L.jsxs)(P.Z,{level:2,children:["\u041f\u043e\u0431\u0435\u0434\u0438\u0442\u0435\u043b\u044c: ",r," ",(0,L.jsx)(Y,{twoToneColor:"#e09a00"})]}),(0,L.jsxs)(P.Z,{level:3,children:["\u0421\u043e\u043f\u0435\u0440\u043d\u0438\u043a: ",n]})]})},J=n(408),X=n(3708),$=["a","b","c","d","e","f","g","h"],ee=function(e,r){return e.find((function(e){return e.position===r&&e}))},re=(0,o.Z)((function(){var e=(0,t.UO)().gameId,r=(0,c.v9)(J.KN),n=(0,c.v9)(J.c7),o=(0,c.v9)(i.t4),d=(0,c.v9)(i.gg),u=(0,c.v9)(i.kK),h=(0,c.v9)(i.He),m=(0,c.v9)(i.NA),v=(0,c.v9)(i.Us),f=(0,c.v9)(i.YZ),g=(0,c.v9)(i.ux),p=(0,c.v9)(i.kq),x=(0,c.v9)(i.Wh),j=(0,c.I0)();if((0,s.useEffect)((function(){e!==o&&(j((0,i.ax)(e)),j((0,i.Ou)({gameId:e,userId:n}))),d||u||j((0,i.Ou)({gameId:e,userId:n})),m||v||u||j((0,i.jb)(e))})),!Number(e)||Number(e)<0)return(0,L.jsx)(l.default,{title:"\u041d\u0435\u0432\u0430\u043b\u0438\u0434\u043d\u044b\u0439 url \u0438\u0433\u0440\u044b",message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 url \u0438\u043b\u0438 \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0438\u0433\u0440\u0443 \u0438\u0437 \u0441\u043f\u0438\u0441\u043a\u0430 \u0432 \u043f\u0440\u043e\u0444\u0438\u043b\u0435"});if(!d||u)return(0,L.jsx)(I.Z,{});if(d.status===w.V9||d.status===w.lr||d.status===w.B4)return(0,L.jsx)(Q,{winnerLogin:d.status===w.B4?r+" (\u0412\u044b)":d.opponentLogin,loserLogin:d.status===w.B4?d.opponentLogin:r+" (\u0412\u044b)"});var k={gameField:m,isGameFieldLoading:v,gameFieldError:f,playerColor:d.playerColor,gameStatus:d.status,selectedCheckerPosition:g,onSelectChecker:function(e){j((0,i.Zs)(e)),j((0,i.BP)({gameId:o,position:e}))},availableFields:p,createCheckerStep:function(e){j((0,X.xr)(null)),j((0,i.vG)({gameId:o,from:g,to:e}))}},_={login:r,gameId:o,gameData:d,isGameDataLoading:u,gameDataError:h,onCapitulation:function(){j((0,X.xr)(null)),j((0,i.eM)(o))},isCapitulating:x};return(0,L.jsx)(R,(0,a.Z)((0,a.Z)({},_),{},{checkersFieldProps:k}))}))},2940:function(e,r,n){var a=n(1413),s=n(2791),c=n(7689),i=n(9434),t=n(408),l=n(7633),o=n(5171),d=n(184);r.Z=function(e){return function(r){var n=(0,i.v9)(t.c7),u=(0,i.v9)(t.KN),h=(0,i.v9)(t.rK),m=(0,i.I0)();return s.useEffect((function(){h&&!u&&m((0,t.$b)(n))})),h&&!u?(0,d.jsx)(l.Z,{}):(0,o.GL)()!==h?(m((0,t.GT)()),(0,d.jsx)(c.Fg,{to:"/login"})):n?(0,d.jsx)(e,(0,a.Z)({},r)):(0,d.jsx)(c.Fg,{to:"/login"})}}},6651:function(e,r,n){n.r(r),n.d(r,{default:function(){return g}});var a=n(2791),s=n(5507),c=n(7309),i=n(7689),t=n(2777),l=n(9434),o=n(408),d=n(1413),u={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M288 421a48 48 0 1096 0 48 48 0 10-96 0zm352 0a48 48 0 1096 0 48 48 0 10-96 0zM512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm263 711c-34.2 34.2-74 61-118.3 79.8C611 874.2 562.3 884 512 884c-50.3 0-99-9.8-144.8-29.2A370.4 370.4 0 01248.9 775c-34.2-34.2-61-74-79.8-118.3C149.8 611 140 562.3 140 512s9.8-99 29.2-144.8A370.4 370.4 0 01249 248.9c34.2-34.2 74-61 118.3-79.8C413 149.8 461.7 140 512 140c50.3 0 99 9.8 144.8 29.2A370.4 370.4 0 01775.1 249c34.2 34.2 61 74 79.8 118.3C874.2 413 884 461.7 884 512s-9.8 99-29.2 144.8A368.89 368.89 0 01775 775zM512 533c-85.5 0-155.6 67.3-160 151.6a8 8 0 008 8.4h48.1c4.2 0 7.8-3.2 8.1-7.4C420 636.1 461.5 597 512 597s92.1 39.1 95.8 88.6c.3 4.2 3.9 7.4 8.1 7.4H664a8 8 0 008-8.4C667.6 600.3 597.5 533 512 533z"}}]},name:"frown",theme:"outlined"},h=n(4291),m=function(e,r){return a.createElement(h.Z,(0,d.Z)((0,d.Z)({},e),{},{ref:r,icon:u}))};m.displayName="FrownOutlined";var v=a.forwardRef(m),f=n(184),g=function(e){var r=e.title,n=void 0===r?"404. \u0422\u0430\u043a\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b \u043d\u0435\u0442":r,a=e.message,d=void 0===a?"\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0432\u0432\u0435\u0441\u0442\u0438 \u0434\u0440\u0443\u0433\u043e\u0439 \u0430\u0434\u0440\u0435\u0441":a,u=(0,i.s0)(),h=(0,l.v9)(o.c7),m=(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)(s.Z,{children:[(0,f.jsx)(v,{}),"\xa0",n]}),(0,f.jsx)("p",{children:d}),(0,f.jsx)(c.Z,{type:"primary",onClick:function(){return u("/profile")},children:h?(0,f.jsx)(f.Fragment,{children:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u0432 \u043f\u0440\u043e\u0444\u0438\u043b\u044c"}):(0,f.jsx)(f.Fragment,{children:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})})]});return h?(0,f.jsx)(t.Z,{children:m}):(0,f.jsx)("div",{style:{margin:"15px"},children:m})}},2777:function(e,r,n){n.d(r,{Z:function(){return k}});var a=n(2791),s=n(50),c=n(8586),i=n(9529),t=n(8961),l=n(9356),o="TemplatePageWithMenu_wrapper__ixbQB",d="TemplatePageWithMenu_sidebar__yXlI7",u="TemplatePageWithMenu_content__Mc3IK",h=n(7689),m=n(9434),v=n(1347),f=n(3708),g=n(4862),p=n(408),x=n(8263),j=n(184),k=function(e){var r=e.children,n=(0,h.s0)(),k=(0,h.TH)().pathname,_=(0,m.v9)(p.c7),C=(0,m.v9)(f.NN),F=(0,m.v9)(f.cE),Z=(0,m.v9)(v.Ew),b=(0,m.I0)();if((0,a.useEffect)((function(){null!==C||F||b((0,f.ns)())})),C){var y=0;C=(C=(C=C.filter((function(e){return e.status===x.wY&&y++<=5&&e}))).map((function(e){return(0,g.q)(e,_)}))).map((function(e){return{label:e.opponentLogin,icon:e.status===x.e0?(0,j.jsx)(s.Z,{}):(0,j.jsx)(c.Z,{}),key:"/game/"+e.id}}))}var N=[{label:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c",icon:(0,j.jsx)(i.Z,{}),key:"/profile"},{label:"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0435 \u0438\u0433\u0440\u044b",icon:(0,j.jsx)(t.Z,{}),key:"games",children:null!==C&&C.length>0?C:[{label:"\u041d\u0435\u0442 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0438\u0433\u0440",key:"/noGames",type:"group"}]}];return(0,j.jsxs)("div",{className:o,children:[(0,j.jsx)("div",{className:d,children:(0,j.jsx)(l.Z,{mode:"inline",defaultSelectedKeys:[k],defaultOpenKeys:Z,items:N,onSelect:function(e){n(e.key)},onOpenChange:function(e){b((0,v.xz)(e))}})}),(0,j.jsx)("section",{className:u,children:r})]})}}}]);
//# sourceMappingURL=376.949342cc.chunk.js.map